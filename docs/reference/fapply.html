<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Apply formatting to a vector — fapply • fmtr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Apply formatting to a vector — fapply"><meta property="og:description" content="The fapply function applies formatting to a vector."><meta property="og:image" content="https://fmtr.r-sassy.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fmtr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/fmtr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/fmtr-fdata.html">Format Data Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply.html">Format Apply Function</a>
    </li>
    <li>
      <a href="../articles/fmtr-fcat.html">Format Catalogs</a>
    </li>
    <li>
      <a href="../articles/fmtr-fapply2.html">Format and Combine</a>
    </li>
    <li>
      <a href="../articles/fmtr-convenience.html">Convenience Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-helpers.html">Helper Functions</a>
    </li>
    <li>
      <a href="../articles/fmtr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/fmtr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/fmtr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/fmtr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/fmtr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Apply formatting to a vector</h1>
    <small class="dont-index">Source: <a href="https://github.com/dbosak01/fmtr/blob/HEAD/R/fapply.R" class="external-link"><code>R/fapply.R</code></a></small>
    <div class="hidden name"><code>fapply.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>fapply</code> function applies formatting to a vector.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fapply</span><span class="op">(</span><span class="va">x</span>, format <span class="op">=</span> <span class="cn">NULL</span>, width <span class="op">=</span> <span class="cn">NULL</span>, justify <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A vector, factor, or list to apply the format to.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>A format to be applied.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>The desired character width of the formatted vector.  Default
value is NULL, meaning the vector will be variable width.</p></dd>


<dt id="arg-justify">justify<a class="anchor" aria-label="anchor" href="#arg-justify"></a></dt>
<dd><p>Whether to justify the return vector.  Valid values are
'left', 'right', 'center', 'centre', or 'none'.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A vector of formatted values.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>fapply</code> function accepts several types of formats:  formatting
strings, named vectors,
vectorized functions, or user-defined formats.  It also
accepts a formatting list, composed of any of the previous types.
The function will first determine the type of format, and then apply
the format in the appropriate way.  Results are returned as a vector.</p>
<p>The function also has parameters for width and justification.</p>
<p>Parameters may also be passed as attributes on the vector.  See
the <code><a href="fattr.html">fattr</a></code> function for additional information on setting
formatting attributes.</p>
    </div>
    <div id="types-of-formats">
    <h2>Types of Formats</h2>


<p>The <code>fapply</code> function will process any of the following types of
formats:</p><ul><li><p><strong>Formatting string:</strong> A single string will be interpreted as
a formatting string. Formatting strings include R-style formatting codes,
and some SAS-style format names like "best" and "date".
See the <a href="FormattingStrings.html">FormattingStrings</a> documentation and the sections below for
further details.</p></li>
<li><p><strong>Named vector:</strong> A named vector can serve as a lookup list or
  decode
for a vector.  You can use a named vector to perform simple
lookups on character vectors.</p></li>
<li><p><strong>Format object:</strong> A format object may be created using the
<code><a href="value.html">value</a></code> function.  The format object is included in the
<strong>fmtr</strong> package, and is specially designed for data categorization.</p></li>
<li><p><strong>Vectorized formatting function:</strong> A vectorized function
  provides
the most flexibility and power over your formatting.  You can use
an existing formatting function from any package, or create
your own vectorized formatting function using <code><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></code>.</p></li>
</ul><p><code>fapply</code> will also accept a formatting list, which can contain any
number of formats from the above list.  To create a formatting list,
see the <code><a href="flist.html">flist</a></code> function.</p>
    </div>
    <div id="-best-format">
    <h2>"best" Format</h2>


<p>The SAS "best" format is used to fit numeric values within a certain width.
The word "best" is followed by the desired width, i.e. "best6" or "best12".
The format will then use the most optimal display for the available
width.</p>
<p>The format will use the entire value if the number of digits fits in the
desired width.  If not, the format may round the value.  The format may
also use scientific notation if the value is very large or very small.  If
the format cannot fit the value in the desired width at all, it will
emit stars ("*") in the desired width.</p>
<p>For input values that are less than the desired width, the result will be
left-padded with spaces.  The output value will then always contain the exact
number of characters requested.</p>
<p>Such a format has no direct equivalent in R, and is indeed difficult to
replicate.  For this reason, the <strong>fmtr</strong> package added this format
option for those situations when you want to replicate SAS "best" formatting
as closely as possible.</p>
<p>The "best" format accepts widths between 1 and 32. The default width is 12.
The R "best" format syntax does not accept a number of decimals, as in
"bestW.d".</p>
<p>Note that "best" widths between 8 and 16 will match SAS most reliably.
Small widths have many special cases, and the logic is difficult to replicate.
For large values, there are some differences between SAS and R in how they
represent these numbers, and sometimes they will not match.</p>
    </div>
    <div id="-date-format">
    <h2>"date" Format</h2>


<p>The "date" format is used to display date values in a readable
character form, such as "01JAN70" or "01-JAN-1970", depending on the
specified width. The word "date" is followed by the desired width,
e.g. "date7" or "date9". This format replicates similar capabilities in SAS.</p>
<p>The format converts numeric or Date values into character strings using
a pattern that depends on the width. Smaller widths display shorter forms,
while larger widths display more detail. For example:</p>
<ul><li><p><strong>date5</strong> – Displays as <code>mmmyy</code> (e.g., "JAN70")</p></li>
<li><p><strong>date7</strong> – Displays as <code>ddmmmyy</code> (e.g., "01JAN70")</p></li>
<li><p><strong>date9</strong> – Displays as <code>ddmmmyyyy</code> (e.g., "01JAN1970")</p></li>
<li><p><strong>date11</strong> – Displays as <code>dd-mmm-yyyy</code> (e.g., "01-JAN-1970")</p></li>
</ul><p>The "date" format accepts widths between 5 and 11. Widths outside this
range are not valid and will result in an error. The default width is 7.
Both <code>"dateW"</code> and <code>"dateW."</code> are accepted, the trailing dot (".")
is optional and does not affect behavior.</p>
<p>For input values that are numeric, the function will interpret them as
the number of days since 1970-01-01, consistent with R's internal date
representation. If the input
is already an R <code>Date</code> or <code>POSIXt</code> object, it will be used directly.
Missing values will be returned as missing.</p>
<p>The output value is left-padded with spaces if it is shorter than the
requested width, ensuring the formatted result always occupies exactly the
specified number of characters. For example, for the date 1970-01-01,
the result of <code>date7</code> is <code>"01JAN70"</code>, while the result of
<code>date8</code> is <code>" 01JAN70"</code>, with one additional leading space.</p>
<p>This format has no direct equivalent in base R. The <strong>fmtr</strong> package
adds this capability for users who wish to replicate SAS-style "date"
formatting behavior as closely as possible.</p>
    </div>
    <div id="-time-format">
    <h2>"time" Format</h2>


<p>The <strong>"time"</strong> format is used to display time-of-day values in a
readable character form, such as <code>"9:00"</code> or <code>"23:59:59.995"</code>,
depending on the specified width and number of decimal places. The word
"time" is followed by the desired width <em>w</em> and optional decimal
precision <em>d</em>, e.g. <code>"time8"</code>, <code>"time12.3"</code>, or
<code>"time20.9"</code>. This format closely replicates the behavior of SAS
<code>TIMEw.d</code>.</p>
<p>The format converts numeric or time-like objects into character strings
representing elapsed time in hours, minutes, and seconds. Hours are not
limited to the 0–23 range and may exceed 24, allowing the format to represent
durations such as <code>"119:26:40"</code> or <code>"1388:53:20"</code>.</p>
<div class="section">
<h3 id="width-and-precision">Width and precision<a class="anchor" aria-label="anchor" href="#width-and-precision"></a></h3>
<p>The total width <em>w</em> controls the minimum number of characters in the
output, while the optional decimal precision <em>d</em> controls the number
of digits displayed after the decimal point for seconds.</p>
<ul><li><p><strong>time5</strong> – Displays hours and minutes or only hours (e.g.
         " 9:00", "24:00", "  120")</p></li>
<li><p><strong>time7</strong> – Displays h:mm:ss or hh:mm (e.g., "1:03:10",
         "  23:59")</p></li>
<li><p><strong>time8</strong> – Displays as hh:mm:ss (e.g. " 1:03:10", "23:59:59")</p></li>
<li><p><strong>time9.1</strong> – Displays seconds with one decimal place
        (e.g., "1:00:00.0")</p></li>
<li><p><strong>time12.3</strong> – Displays seconds with three decimal places
        (e.g., " 9:00:01.005")</p></li>
<li><p><strong>time20.9</strong> – Displays seconds with up to nine decimal places
        (e.g., "   9:00:00.987654321")</p></li>
</ul></div>

<p>Valid widths range from 2 to 20. The decimal precision <em>d</em>, when
specified, must be between 0 and <code>w - 1</code>. Widths or precisions outside
these ranges are not valid and will result in an error.</p>
<p>If the width <em>w</em> is omitted (e.g., <code>"time"</code> or <code>"time."</code>),
it defaults to <code>8</code>. If the decimal precision <em>d</em> is omitted,
it defaults to <code>0</code>. Both <code>"TIMEw"</code> and <code>"TIMEw."</code> are accepted,
and the trailing dot is optional.</p>
<div class="section">
<h3 id="input-handling">Input handling<a class="anchor" aria-label="anchor" href="#input-handling"></a></h3>
<p>The <code>TIMEw.d</code> format accepts the following input types:</p>
<ul><li><p>Numeric values, interpreted as the number of seconds
        since midnight</p></li>
<li><p><code>POSIXt</code> objects, using the time-of-day component</p></li>
<li><p><code>hms</code> objects from the <span class="pkg">hms</span> package</p></li>
<li><p><code>difftime</code> objects</p></li>
</ul><p>For numeric, <code>hms</code> and <code>difftime</code> inputs, negative values and values
larger than 24 hours are allowed and formatted accordingly, consistent with SAS
behavior. For example, values such as <code>-3600</code> or <code>430000</code>
are valid. For <code>POSIXt</code> inputs, only the clock time is used. As a result,
negative times and times exceeding 24 hours are not applicable to
<code>POSIXt</code> objects.</p>
<p>The <code>TIMEw.d</code> format resolves known differences in fractional-second
rounding between base R and SAS, it applies SAS-compatible rounding to ensure
that formatted results match SAS output exactly, particularly near rounding
boundaries.</p>
<p>In addition, whereas base R effectively limits fractional seconds to
6 digits, <code>TIMEw.d</code> supports up to 12 digits of decimal precision,
padding with trailing zeros when necessary, consistent with SAS behavior.</p>
</div>

    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="fcat.html">fcat</a></code> to create a format catalog,
<code><a href="value.html">value</a></code> to define a format,
<code><a href="fattr.html">fattr</a></code> to easily set the formatting attributes of a vector,
and <code><a href="flist.html">flist</a></code> to define a formatting list.  Also see
<code><a href="fdata.html">fdata</a></code> to apply formats to an entire data frame, and
<a href="FormattingStrings.html">FormattingStrings</a> for how to define a formatting string.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co">## Example 1: Formatting string ##</span></span>
<span><span class="va">v1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.235</span>, <span class="fl">8.363</span>, <span class="fl">5.954</span>, <span class="fl">2.465</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply string format.</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v1</span>, <span class="st">"%.1f"</span><span class="op">)</span></span>
<span><span class="co"># [1] "1.2" "8.4" "6.0" "2.5"</span></span>
<span></span>
<span><span class="co"># Apply width and two decimals</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v1</span>, <span class="st">"%5.2f"</span><span class="op">)</span></span>
<span><span class="co"># [1] " 1.24" " 8.36" " 5.95" " 2.46"</span></span>
<span></span>
<span><span class="co"># Apply "best" format</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v1</span>, <span class="st">"best3"</span><span class="op">)</span></span>
<span><span class="co"># [1] "1.2" "8.4" "  6" "2.5"</span></span>
<span></span>
<span><span class="co">## Example 2: Named vector ##</span></span>
<span><span class="co"># Set up vector</span></span>
<span><span class="va">v2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set up named vector for formatting</span></span>
<span><span class="va">fmt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>A <span class="op">=</span> <span class="st">"Label A"</span>, B <span class="op">=</span> <span class="st">"Label B"</span>, C <span class="op">=</span> <span class="st">"Label C"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt2</span><span class="op">)</span></span>
<span><span class="co"># [1] "Label A" "Label B" "Label C" "Label B"</span></span>
<span></span>
<span><span class="co">## Example 3: User-defined format ##</span></span>
<span><span class="co"># Define format</span></span>
<span><span class="va">fmt3</span> <span class="op">&lt;-</span> <span class="fu"><a href="value.html">value</a></span><span class="op">(</span><span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"A"</span>, <span class="st">"Label A"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"B"</span>, <span class="st">"Label B"</span><span class="op">)</span>, </span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"Other"</span><span class="op">)</span><span class="op">)</span></span>
<span>              </span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt3</span><span class="op">)</span></span>
<span><span class="co"># [1] "Label A" "Label B" "Other"   "Label B"</span></span>
<span></span>
<span><span class="co">## Example 4: Formatting function ##</span></span>
<span><span class="co"># Set up vectorized function</span></span>
<span><span class="va">fmt4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Vectorize.html" class="external-link">Vectorize</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Label"</span>, <span class="va">x</span><span class="op">)</span></span>
<span>  <span class="kw">else</span></span>
<span>    <span class="va">ret</span> <span class="op">&lt;-</span> <span class="st">"Other"</span> </span>
<span>    </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">ret</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply format to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v2</span>, <span class="va">fmt4</span><span class="op">)</span></span>
<span><span class="co"># [1] "Label A" "Label B" "Other"   "Label B"</span></span>
<span></span>
<span><span class="co">## Example 5: Formatting List - Row Type ##</span></span>
<span><span class="co"># Set up data</span></span>
<span><span class="co"># Notice each row has a different data type</span></span>
<span><span class="va">v3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">2841.258</span>, <span class="st">"H"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>           <span class="st">"L"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">60</span>, <span class="fl">1382.8865</span><span class="op">)</span></span>
<span><span class="va">v4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"char"</span>, <span class="st">"date"</span>, <span class="st">"int"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create formatting list</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="flist.html">flist</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"row"</span>, lookup <span class="op">=</span> <span class="va">v4</span>,</span>
<span>       int <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fl">2</span>, nsmall <span class="op">=</span> <span class="fl">1</span>, </span>
<span>                                  big.mark<span class="op">=</span><span class="st">","</span><span class="op">)</span>,</span>
<span>       char <span class="op">=</span> <span class="fu"><a href="value.html">value</a></span><span class="op">(</span><span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"H"</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"L"</span>, <span class="st">"Low"</span><span class="op">)</span>,</span>
<span>                     <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"NA"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>       date <span class="op">=</span> <span class="st">"%d%b%Y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply formatting list to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v3</span>, <span class="va">lst</span><span class="op">)</span></span>
<span><span class="co"># [1] "2,841.3"   "High"      "06Jan2024" "Low"       "06Mar2024" "1,382.9"  </span></span>
<span></span>
<span><span class="co">## Example 6: Formatting List - Column Type ##</span></span>
<span><span class="co"># Set up data</span></span>
<span><span class="va">v5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">30</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">60</span><span class="op">)</span></span>
<span><span class="va">v5</span></span>
<span><span class="co"># [1] "2024-01-06" "2024-02-05" "2024-03-06"</span></span>
<span></span>
<span><span class="co"># Create formatting list</span></span>
<span><span class="va">lst</span> <span class="op">&lt;-</span> <span class="fu"><a href="flist.html">flist</a></span><span class="op">(</span><span class="st">"%B"</span>, <span class="st">"This month is: %s"</span>, type <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply formatting list to vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v5</span>, <span class="va">lst</span><span class="op">)</span></span>
<span><span class="co"># [1] "This month is: January"  "This month is: February" "This month is: March" </span></span>
<span></span>
<span><span class="co"># Example 7: Conditional Formatting</span></span>
<span><span class="co"># Data vector</span></span>
<span><span class="va">v6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8.38371</span>, <span class="fl">1.46938</span>, <span class="fl">3.28783</span>, <span class="cn">NA</span>, <span class="fl">0.98632</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># User-defined format</span></span>
<span><span class="va">fmt5</span> <span class="op">&lt;-</span> <span class="fu"><a href="value.html">value</a></span><span class="op">(</span><span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, <span class="st">"Missing"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">1</span>, <span class="st">"Low"</span><span class="op">)</span>, </span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">5</span>, <span class="st">"High"</span><span class="op">)</span>,</span>
<span>              <span class="fu"><a href="condition.html">condition</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="st">"%.2f"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply format to data vector</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v6</span>, <span class="va">fmt5</span><span class="op">)</span></span>
<span><span class="co"># [1] "High"    "1.47"    "3.29"    "Missing" "Low" </span></span>
<span></span>
<span><span class="co"># Example 8: "best" Format</span></span>
<span><span class="co">#' # Data vector</span></span>
<span><span class="va">v7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12.3456</span>, <span class="fl">1234567.89</span>, <span class="cn">NA</span>, <span class="fl">0.123456</span>, <span class="fl">0.000012345</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v7</span>, <span class="st">"best6"</span><span class="op">)</span></span>
<span><span class="co"># [1] "12.346" "1.23E6" NA       "0.1235" "123E-7"</span></span>
<span></span>
<span><span class="co"># Example 9: "date" Format</span></span>
<span><span class="co"># Data Vector</span></span>
<span><span class="va">v8</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1924-02-29"</span>,<span class="cn">NA</span>,<span class="st">"1980-12-31"</span>,<span class="st">"2019-12-31"</span>,<span class="st">"2020-02-29"</span>,<span class="st">"2030-08-20"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v8</span>, <span class="st">"date7"</span><span class="op">)</span></span>
<span><span class="co"># [1] "29FEB24" NA   "31DEC80" "31DEC19" "29FEB20" "20AUG30"</span></span>
<span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v8</span>, <span class="st">"date11"</span><span class="op">)</span></span>
<span><span class="co"># [1] "29-FEB-1924" NA   "31-DEC-1980" "31-DEC-2019" "29-FEB-2020" "20-AUG-2030"</span></span>
<span></span>
<span><span class="co"># Example 10: "time" format</span></span>
<span><span class="co"># Data vector</span></span>
<span><span class="va">v9</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3600</span>, <span class="cn">NA</span>, <span class="fl">0</span>, <span class="fl">59.9</span>, <span class="fl">3600.12345</span>, <span class="fl">86399.995</span>, <span class="fl">90000</span><span class="op">)</span></span>
<span><span class="va">v10</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strptime.html" class="external-link">strptime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01:00:00.123"</span>, <span class="st">"09:00:01.456"</span>, <span class="cn">NA</span><span class="op">)</span>, format<span class="op">=</span><span class="st">"%H:%M:%OS"</span><span class="op">)</span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v9</span>, <span class="st">"time8"</span><span class="op">)</span></span>
<span><span class="co"># [1]  "-1:00:00" NA         " 0:00:00" " 0:01:00" " 1:00:00" "24:00:00" "25:00:00"</span></span>
<span></span>
<span><span class="fu">fapply</span><span class="op">(</span><span class="va">v10</span>, <span class="st">"time10.2"</span><span class="op">)</span></span>
<span><span class="co"># [1] "1:00:00.12" "9:00:01.46" NA  </span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bosak, Chen Ling.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

